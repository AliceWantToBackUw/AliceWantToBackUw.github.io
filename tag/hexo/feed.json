{
    "version": "https://jsonfeed.org/version/1",
    "title": "Hexo • All posts by \"hexo\" tag",
    "description": "",
    "home_page_url": "https://alicewanttobackuw.github.io",
    "items": [
        {
            "id": "https://alicewanttobackuw.github.io/2023/01/29/shoka%E4%B8%BB%E9%A2%98%E6%AD%A3%E7%A1%AE%E9%A3%9F%E7%94%A8%E5%A7%BF%E5%8A%BF-%E9%9F%B3%E4%B9%90%E7%AF%87/",
            "url": "https://alicewanttobackuw.github.io/2023/01/29/shoka%E4%B8%BB%E9%A2%98%E6%AD%A3%E7%A1%AE%E9%A3%9F%E7%94%A8%E5%A7%BF%E5%8A%BF-%E9%9F%B3%E4%B9%90%E7%AF%87/",
            "title": "🎶hexo的shoka主题正确食用姿势——音乐篇🎶",
            "date_published": "2023-01-28T16:22:30.000Z",
            "content_html": "<p><img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301291523489.png\" alt=\"image-20230129152257115\" /></p>\n<h1 id=\"欢迎各位友友来-我后院建设中-里踩踩\"><a class=\"anchor\" href=\"#欢迎各位友友来-我后院建设中-里踩踩\">#</a> 🍭🍭欢迎各位友友来 <a href=\"https://alicewanttobackuw.github.io/\">我后院 (建设中)</a> 里踩踩🍭🍭</h1>\n<blockquote>\n<p>📢 声明：<br />\n转载，请先标注出处哦！编写不易，尊重一下劳动成果哦！<br />\n个人博客网站 \t==》<a href=\"https://alicewanttobackuw.github.io/\">https://alicewanttobackuw.github.io/</a><br />\ngithub\t==》<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0FsaWNlV2FudFRvQmFja1V3\">https://github.com/AliceWantToBackUw</span><br />\ncsdn\t==》<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xlbmd5dWUyOQ==\">https://blog.csdn.net/lengyue29</span></p>\n</blockquote>\n<h1 id=\"hexo的shoka主题正确食用姿势音乐篇\"><a class=\"anchor\" href=\"#hexo的shoka主题正确食用姿势音乐篇\">#</a> 🎶hexo 的 shoka 主题正确食用姿势 —— 音乐篇🎶</h1>\n<blockquote>\n<p>！温馨提示：每次启动 hexo 时，先清除一下浏览器的浏览数据！！！<br />\n！温馨提示：每次启动 hexo 时，先清除一下浏览器的浏览数据！！！<br />\n！温馨提示：每次启动 hexo 时，先清除一下浏览器的浏览数据！！！</p>\n<p>不要问为什么，问就是踩过坑，巨坑😭😭😭！</p>\n</blockquote>\n<h2 id=\"文档阅读\"><a class=\"anchor\" href=\"#文档阅读\">#</a> 📕 文档阅读</h2>\n<p>​\t<strong>官方文档：</strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy9jb25maWcvIyVFOCU4MyU4QyVFNiU5OSVBRiVFOSU5RiVCMyVFNCVCOSU5MA==\">Yume Shoka = 優萌初華 = 有夢書架 (lostyu.me)</span><br />\n​\t查阅文档，此时你应该跟着文档来操作了吧。然后，在一通眼花缭乱的操作，啪的一声。靠呗了╰(艹皿艹)， <code>（先清空一下网络监听列表和控制台；然后点击左上角边的播放按钮）</code> 播放不了，报错！<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282158209.png\" alt=\"报错！\" /></p>\n<p>​\t于是就将这串\t <code>rom origin 'http://localhost:4000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code> \t报错信息一搜，看到什么跨域资源不能共享！？啥东西，听都没听过……<br />\n<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282207749.png\" alt=\"image-20230128220708627\" /></p>\n<p>​\t看着看着，发现。我一搞前端的，目前也还是引用引用一下接口，修改修改一下配置的。我咋去改后端代码，叫人家把对应的接口实现的代码，发过来，自己改？得儿，这种方式行不通……</p>\n<h2 id=\"网易云音乐配置\"><a class=\"anchor\" href=\"#网易云音乐配置\">#</a> 🎵 网易云音乐配置</h2>\n<p>​\t想了想，既然这种方式行不通。我再去文档看看，是不是漏了什么信息。<br />\n​\t终于，找到了一条相关的评论<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282214579.png\" alt=\"image-20230128221441515\" /></p>\n<blockquote>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zaG9rYS5sb3N0eXUubWUvY29tcHV0ZXItc2NpZW5jZS9ub3RlL3RoZW1lLXNob2thLWRvYy9jb25maWcvIzYzZDRhNWM0YmRhMDU2NzBjZGU1NTU1Mw==\">@duchenpaul</span> , 目前我是找了一个一模一样的 API，把 player.js 里原本的 API 地址换为 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcGkuaW5qYWhvdy5jbi9tZXRpbmcv\">https://api.injahow.cn/meting/</span><br />\n 浏览器清除一下缓存就能用了</p>\n</blockquote>\n<p>​\t于是我找到了\t <code>&lt;root&gt;\\themes\\shoka\\source\\js\\_app</code> \t里的\t <code>player.js</code> \t文件，找到第 <code>70</code>  行修改里面的 api 接口<br />\n<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282219857.png\" alt=\"image-20230128221938753\" /></p>\n<p>​\t修改完后，兴高采烈的试一试。啪的一声，tnnd 怎么，又 *** 报错！<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282229870.png\" alt=\"image-20230128222954599\" /></p>\n<p>​\t冷静下来，仔细观察。这次虽然\t <code>控制台</code> \t和上次一样的 CORS 报错，但是\t <code>网络</code> \t请求获得响应码 <strong>不一样</strong> 。<br />\n​\t一个是 <code>502</code> ，一个是 <code>404</code> 。 <code>404</code>  啥玩意，连骨架子，都没有找到，还想找什么资源。于是，想了想。既然评论这么早，那肯定是有一定的作用的啊！所以你点击那个 api 网页看看\t<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcGkuaW5qYWhvdy5jbi9tZXRpbmcv\">https://api.injahow.cn/meting/</span>\t<br />\n<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282238266.png\" alt=\"image-20230128223848183\" /></p>\n<p>​\t再看看自己写的哦，无脑复制了。赶紧改过来……</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>// 最后修改的结果</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>fetch('https<span class=\"token punctuation\">:</span>//api.injahow.cn/meting/<span class=\"token punctuation\">?</span>server=' + meta<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> + '<span class=\"token important\">&amp;type='</span> + meta<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> + '<span class=\"token important\">&amp;id='</span> + meta<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> + '<span class=\"token important\">&amp;r='</span> + Math.random())</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  .then(function (response) <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    return response.json()</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span>).then(function (json) <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    store.set(skey<span class=\"token punctuation\">,</span> JSON.stringify(json))</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    list.push.apply(list<span class=\"token punctuation\">,</span> json);</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    resolve(list);</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span>).catch(function (ex) <span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span>)</pre></td></tr></table></figure><p>​\t再施法一遍，嘿哈！<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282249429.png\" alt=\"image-20230128224914304\" /></p>\n<p>🎆🎆🎆 牛批牛批牛批霍，可以听了。不过，为了可以实现自定义歌单，所以看看它是默认配置哪个歌单。<br />\n文件路径：\t <code>&lt;root&gt;\\_config.shoka.yml</code></p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># bgm</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">audio</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 中二大叔不再少年</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token comment\"># 获取网易云的</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//music.163.com/<span class=\"token comment\">#/playlist?id=2297706586</span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282253984.png\" alt=\"image-20230128225311831\" /></p>\n<p>​\t所以，以后配置\t <code>网易</code> \t的歌单，就这样配置\t <code>&lt;root&gt;\\_config.shoka.yml</code> \t文件了，拿下！</p>\n<h2 id=\"qq音乐配置\"><a class=\"anchor\" href=\"#qq音乐配置\">#</a> 🎵 qq 音乐配置</h2>\n<p>​\t既然可以网易云，那我想弄 qq 音乐怎么配置咧？照葫芦画瓢，谁还不会咧～<br />\n​\t自信拿出来自己在 qq 音乐创建的歌单链接。复制粘贴<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282310280.png\" alt=\"image-20230128231029158\" /></p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># bgm</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">audio</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 中二大叔不再少年</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token comment\"># 获取自己的 qq 音乐的</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//y.qq.com/n/ryqq/playlist/8778834459</pre></td></tr></table></figure><p>​\t开炮！<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282314060.png\" alt=\"image-20230128231415935\" /></p>\n<p>​\t什么情况，这都能射歪……。想看看在哪报错，浏览器看到难受，想在文件中查看。结果，api.js 什么东西，我有这个文件吗？查了一通根本就 tm🤬没有。<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282317671.png\" alt=\"image-20230128231738558\" /></p>\n<p>​\t吸一口冷气🥶，冷静一下。想了想，为啥它给的可以，我自己的就不行咧。比对了一下。<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282323406.png\" alt=\"image-20230128232347339\" /></p>\n<p>然后自己照葫芦画瓢</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># bgm</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">audio</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 中二大叔不再少年</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">list</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token comment\"># 修改后的自己的</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">-</span> https<span class=\"token punctuation\">:</span>//y.qq.com/n/yqq/playsquare/8778834459.html</pre></td></tr></table></figure><p><img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282329014.png\" alt=\"image-20230128232909798\" /></p>\n<p>​\t✨✨✨终于成了！可喜可贺啊！<br />\n​\t然后，想了想，为了不能用原链接呢？给出测试的 <code>4</code>  张图。猜想：估计是为了获取一些网页请求参数，而直接使用链接获取不到。</p>\n<p><img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282340063.png\" alt=\"音乐测试1\" /></p>\n<p><img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282342708.png\" alt=\"音乐测试2\" /></p>\n<p>​\t<strong>文档</strong> 里给的链接，先请求了 <code>3535982902.html</code> ，状态码： <code>301</code>  。然后，自动跳转到了  <code>https://y.qq.com/n/ryqq/playlist/3535982902</code> <br />\n​\t<strong>自己</strong> 的，只请求了\t <code>https://y.qq.com/n/ryqq/playlist/8778834459</code></p>\n<p><strong>调换一下</strong><br />\n<img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282345938.png\" alt=\"音乐测试3\" /></p>\n<p><img data-src=\"https://cdn.staticaly.com/gh/AliceWantToBackUw/blog-img@main/PicGo/202301282349787.png\" alt=\"image-20230128234947669\" /></p>\n<p>到这就 Ok 了！</p>\n<h2 id=\"总结\"><a class=\"anchor\" href=\"#总结\">#</a> ✨ 总结</h2>\n<p>​\t看似这么简单的配置问题，硬是花了 2 个多小时查找，中间不停的报错，人都快疯了😢。终于，老天不负有心❤人。在不断地试错，不断的分析下，才知道错哪了。过程虽然是痛苦难熬的，但历经挫折，收获的成果是享受的！<br />\n​\t试有所得，于作此篇。</p>\n",
            "tags": [
                "踩坑",
                "hexo",
                "shoka主题"
            ]
        }
    ]
}